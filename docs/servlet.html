<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2017-04-10 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170410" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Jawr - The Jawr servlet</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.1.min.js"></script>

              
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/j-a-w-r/jawr-main-repo">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2></h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2017-04-10
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 3.9
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">About</li>
                              
      <li>
  
                          <a href="../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                
      <li>
  
                          <a href="../introduction.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="../features.html" title="Features">
          <i class="none"></i>
        Features</a>
            </li>
                
      <li>
  
                          <a href="../changes.html" title="Change history">
          <i class="none"></i>
        Change history</a>
            </li>
                
      <li>
  
                          <a href="../team.html" title="The team">
          <i class="none"></i>
        The team</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li class="active">
  
            <a href="#"><i class="none"></i>The Jawr servlet</a>
          </li>
                
      <li>
  
                          <a href="../docs/descriptor_syntax.html" title="Descriptor syntax">
          <i class="none"></i>
        Descriptor syntax</a>
            </li>
                
      <li>
  
                          <a href="../docs/custom_bundles.html" title="Bundle definition">
          <i class="none"></i>
        Bundle definition</a>
            </li>
                
      <li>
  
                          <a href="../docs/source_ordering.html" title="Source order in bundles">
          <i class="none"></i>
        Source order in bundles</a>
            </li>
                
      <li>
  
                          <a href="../docs/cacheManager.html" title="Cache manager">
          <i class="none"></i>
        Cache manager</a>
            </li>
                
      <li>
  
                          <a href="../docs/global_preprocessors.html" title="Global preprocessors">
          <i class="none"></i>
        Global preprocessors</a>
            </li>
                
      <li>
  
                          <a href="../docs/global_postprocessors.html" title="Global postprocessors">
          <i class="none"></i>
        Global postprocessors</a>
            </li>
                
      <li>
  
                          <a href="../docs/postprocessors.html" title="Postprocessors">
          <i class="none"></i>
        Postprocessors</a>
            </li>
                
      <li>
  
                          <a href="../docs/generators.html" title="Generators">
          <i class="none"></i>
        Generators</a>
            </li>
                
      <li>
  
                          <a href="../docs/advanced_generators.html" title="Advanced generators">
          <i class="none"></i>
        Advanced generators</a>
            </li>
                
      <li>
  
                          <a href="../docs/license_files.html" title="Licenses in resources">
          <i class="none"></i>
        Licenses in resources</a>
            </li>
                
      <li>
  
                          <a href="../docs/taglibs.html" title="JSP Tag library">
          <i class="none"></i>
        JSP Tag library</a>
            </li>
                
      <li>
  
                          <a href="../docs/plain_html.html" title="Use in HTML pages">
          <i class="none"></i>
        Use in HTML pages</a>
            </li>
                
      <li>
  
                          <a href="../docs/modes.html" title="Debug and production modes">
          <i class="none"></i>
        Debug and production modes</a>
            </li>
                
      <li>
  
                          <a href="../docs/messages_gen.html" title="i18n message generator">
          <i class="none"></i>
        i18n message generator</a>
            </li>
                
      <li>
  
                          <a href="../docs/variant_bundle.html" title="Variant bundles">
          <i class="none"></i>
        Variant bundles</a>
            </li>
                
      <li>
  
                          <a href="../docs/illegalBundleRequestHander.html" title="Jawr strict mode - Illegal bundle request handler">
          <i class="none"></i>
        Jawr strict mode - Illegal bundle request handler</a>
            </li>
                
      <li>
  
                          <a href="../docs/jmx_support.html" title="JMX Support">
          <i class="none"></i>
        JMX Support</a>
            </li>
                
      <li>
  
                          <a href="../docs/bundle_preprocessing.html" title="Bundle preprocessing">
          <i class="none"></i>
        Bundle preprocessing</a>
            </li>
                
      <li>
  
                          <a href="../docs/jawr_maven_plugin.html" title="Jawr Maven plugin">
          <i class="none"></i>
        Jawr Maven plugin</a>
            </li>
                
      <li>
  
                          <a href="../docs/jawr_ant_task.html" title="Jawr Ant task">
          <i class="none"></i>
        Jawr Ant task</a>
            </li>
                
      <li>
  
                          <a href="../migrationGuide.html" title="Migration Guide">
          <i class="none"></i>
        Migration Guide</a>
            </li>
                
      <li>
  
                          <a href="../migrationGitRepo.html" title="Github repository Migration Guide">
          <i class="none"></i>
        Github repository Migration Guide</a>
            </li>
                              <li class="nav-header">Integration</li>
                              
      <li>
  
                          <a href="../integration/augmenter.html" title="Add Jawr to your framework">
          <i class="none"></i>
        Add Jawr to your framework</a>
            </li>
                
      <li>
  
                          <a href="../integration/spring.html" title="Spring MVC">
          <i class="none"></i>
        Spring MVC</a>
            </li>
                
      <li>
  
                          <a href="../integration/facelets.html" title="Facelets Tag library">
          <i class="none"></i>
        Facelets Tag library</a>
            </li>
                
      <li>
  
                          <a href="../integration/wicket.html" title="Wicket">
          <i class="none"></i>
        Wicket</a>
            </li>
                
      <li>
  
                          <a href="../integration/grails.html" title="Grails plugin">
          <i class="none"></i>
        Grails plugin</a>
            </li>
                
      <li>
  
                          <a href="../integration/dwr.html" title="DWR">
          <i class="none"></i>
        DWR</a>
            </li>
                
      <li>
  
                          <a href="../integration/validator.html" title="Commons Validator - Struts">
          <i class="none"></i>
        Commons Validator - Struts</a>
            </li>
                              <li class="nav-header">Tutorials</li>
                              
      <li>
  
                          <a href="../tutorials/quickstart.html" title="Quick start">
          <i class="none"></i>
        Quick start</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrSmartbundling.html" title="How to use Jawr smart bundling feature">
          <i class="none"></i>
        How to use Jawr smart bundling feature</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrToServeImage.html" title="How to use Jawr to serve image resources">
          <i class="none"></i>
        How to use Jawr to serve image resources</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrCssSkin.html" title="How to use Jawr to generate CSS skin">
          <i class="none"></i>
        How to use Jawr to generate CSS skin</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/jawrSpriteImage.html" title="How to generate Image sprites with Jawr">
          <i class="none"></i>
        How to generate Image sprites with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrToGenerateBase64Image.html" title="How to generate base64 images in CSS with Jawr">
          <i class="none"></i>
        How to generate base64 images in CSS with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseGoogleClosureCompiler.html" title="How to use Google Closure Compiler with Jawr">
          <i class="none"></i>
        How to use Google Closure Compiler with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToSetJsEngine.html" title="How to set Javascript engine in Jawr">
          <i class="none"></i>
        How to set Javascript engine in Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToEnablePerformanceLogging.html" title="How to set performance logging in Jawr">
          <i class="none"></i>
        How to set performance logging in Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/faq_howto.html" title="FAQ-Howto">
          <i class="none"></i>
        FAQ-Howto</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/libraries.html" title="Using popular libraries">
          <i class="none"></i>
        Using popular libraries</a>
            </li>
                
      <li>
  
                          <a href="../docs/sampleApplications.html" title="Sample applications">
          <i class="none"></i>
        Sample applications</a>
            </li>
                              <li class="nav-header">API and sources</li>
                              
      <li>
  
                          <a href="../nonav/apidocs/index.html" title="JavaDocs">
          <i class="none"></i>
        JavaDocs</a>
            </li>
                
      <li>
  
                          <a href="../nonav/xref/index.html" title="Source XREF">
          <i class="none"></i>
        Source XREF</a>
            </li>
                              <li class="nav-header">Github repositories</li>
                              
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-main-repo" class="externalLink" title="Jawr main repository">
          <i class="none"></i>
        Jawr main repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-core" class="externalLink" title="Jawr core repository">
          <i class="none"></i>
        Jawr core repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-spring" class="externalLink" title="Jawr spring repository">
          <i class="none"></i>
        Jawr spring repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-wicket" class="externalLink" title="Jawr wicket repository">
          <i class="none"></i>
        Jawr wicket repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-grails" class="externalLink" title="Jawr grails repository">
          <i class="none"></i>
        Jawr grails repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-dwr2.x" class="externalLink" title="Jawr dwr2.x repository">
          <i class="none"></i>
        Jawr dwr2.x repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-dwr3.x" class="externalLink" title="Jawr dwr3.x repository">
          <i class="none"></i>
        Jawr dwr3.x repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-tools" class="externalLink" title="Jawr tools repository">
          <i class="none"></i>
        Jawr tools repository</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>The Jawr servlet<a name="The_Jawr_servlet"></a></h2>
<p>For each type of supported resource (CSS, Javascript, Binary [image, font, &#x2026;]), you need an instance of net.jawr.web.servlet.JawrServlet running. Of course, you may choose to use Jawr for only one of these types of resources. &#xa0;</p>
<p>By default, all bundles are created and postprocessed when this servlet starts up and stored at the application server&#x2019;s temporary directory. This way there is no processing overhead on requests, but you must remember to use the load-on-startup tag to force the Jawr servlet to initialize with your application server. &#xa0;</p>
<p>For every request, the servlet will make an attempt at forcing the client to keep a resource in cache for as long as possible using response headers. Also, if a request contains the If-Modified-Since header, the response status is set to 304(not modified) and no content is sent since such header means that the resource is already cached by the client. &#xa0;</p>
<p>Here is an example configuration of the servlet in a web.xml file:</p>

<div class="source">
<pre>        &lt;servlet&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
</pre></div>
<p>We would use this servlet to manage javascript bundles. The init params for a Jawr servlet are the following:</p>

<ul>
  
<li><b>configLocation</b>: This is a mandatory parameter. Its value points to a classpath resource that Jawr will use to configure itself. See the <a href="./descriptor_syntax.html">config file syntax page</a> for more information. You can use the same properties file for both instances of the servlet. Optionally, you can point to an external file instead of using the classpath. To do that, prefix the file path with <b>file:</b>. For example: file:C:\config\jawr.properties.</li>
  
<li><b>type</b>: Refers to the type of resource the servlet will manage. It can receive three possible values: <i>js</i> , <i>css</i> or <i>binary</i>. You can omit this parameter for the javascript servlet, since <i>js</i> is the default value.\ The <i>img</i> value is deprecated and should be replaced by <i>binary</i>. &#xa0;</li>
  
<li><b>configPropertiesSourceClass</b>: This optional parameter holds the qualified class name of you custom implementation of ConfigPropertiesSource, in case you want to customize the way configuration is loaded when Jawr starts up. More on this below. By default, Jawr use a properties file as configuration file but it also allow users to use a JSON file for configuration using a <i>net.jawr.web.resource.bundle.factory.util.JsonPropertiesSource</i> class. You&#x2019;ll find more info below.</li>
  
<li><b>configPropertyResolverClass</b>: This optional parameter holds the qualified class name of your custom implementation of ConfigPropertyResolver, in case you want to customize the way configuration properties are resolved. More on this below.</li>
  
<li><b>mapping</b>: In normal situations, you will have the Jawr servlet attend all requests for a certain type of resource, using a servlet-mapping like this:</li>
</ul>

<div class="source">
<pre>            &lt;servlet-mapping&gt;
                    &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                    &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;
            &lt;/servlet-mapping&gt; 
</pre></div>
<p>However, you might be forced to serve some of your scripts in the  traditional way. For instance, you might be using a tag library that  imports scripts on its own, or simply you want to update an existing  application to use Jawr in some cases, but you don&#x2019;t want to change  each and every page. You can then use a mapping in the form of  /jsJawrPath/*, so that all URLs created by the tag library start  with this path mapping. You will then need to specify the  <b>mapping</b> init param to let Jawr know about this so that URLs are  properly formed. So if you map the servlet to /jsJawrPath/*, the  mapping init param should have a value of /jsJawrPath/. The  resulting configuration would end up like this:</p>

<div class="source">
<pre>            ...
            &lt;servlet&gt;
                    &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                    &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                    &lt;init-param&gt;
                            &lt;param-name&gt;configLocation&lt;/param-name&gt;
                            &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                    &lt;/init-param&gt;
                    &lt;init-param&gt;
                            &lt;param-name&gt;mapping&lt;/param-name&gt;
                            &lt;param-value&gt;/jsJawrPath/&lt;/param-value&gt;
                    &lt;/init-param&gt;
                    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
            &lt;/servlet&gt;
            ...

            &lt;servlet-mapping&gt;
                    &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                    &lt;url-pattern&gt;/jsJawrPath/*&lt;/url-pattern&gt;
            &lt;/servlet-mapping&gt; 
</pre></div>
<div class="section">
<h3>Jawr binary resource (image, font, &#x2026;) handling<a name="Jawr_binary_resource_image_font__handling"></a></h3>
<p>Jawr supports binary web resources (images, fonts, &#x2026;). To enable this feature, you will have to define the Jawr binary servlet in your web.xml file. When the Jawr binary servlet is defined in you application, all CSS images or fonts will be handled by this servlet.</p>
<p>In order for Jawr to properly handle the CSS images and fonts, the Jawr Binary servlet must start before the Jawr CSS servlet. This means that you will have to set properly the <b>load.on.startup</b> property in your web.xml like below :</p>

<div class="source">
<pre>        ...
        &lt;servlet&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;type&lt;/param-name&gt;
                        &lt;param-value&gt;binary&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;!-- The Jawr Binary servlet must start before the Jawr CSS Servlet --&gt;
                &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
        &lt;servlet&gt;
                &lt;servlet-name&gt;JawrCSSServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;type&lt;/param-name&gt;
                        &lt;param-value&gt;css&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;

        ...
        &lt;!-- Images mapping --&gt;
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.png&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.gif&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 
        &lt;!-- Fonts mapping --&gt;
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.woff&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.ttf&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.svg&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.eot&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 

        &lt;!-- CSS mapping --&gt;
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrCSSServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 
</pre></div>
<p>Note : The declaration of your binary in the <b>jawr.binary.resources</b> property is not mandatory. This property is used to calculate the hashcode of the images at the image servlet startup. If a binary resource is not defined in this property, the hashcode of this resource will be calculated at runtime. Look for <i>jawr.binary.resources</i> at the <a href="./descriptor_syntax.html">descriptor syntax doc</a> for more information.</p></div>
<div class="section">
<h3>Examples web.xml configuration<a name="Examples_web.xml_configuration"></a></h3>

<ul>
  
<li>Jawr with JS and CSS handling</li>
</ul>

<div class="source">
<pre>        &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt; 

        &lt;!DOCTYPE web-app
           PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;
           &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;

        &lt;web-app&gt;

        &lt;display-name&gt;Jawr enabled application&lt;/display-name&gt;

        &lt;description&gt;

        &lt;/description&gt;
        &lt;servlet&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
        &lt;servlet&gt;
                &lt;servlet-name&gt;CssServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;type&lt;/param-name&gt;
                        &lt;param-value&gt;css&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;

        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt;
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;CssServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt;      

&lt;/web-app&gt;
</pre></div>

<ul>
  
<li>Jawr with JS, CSS and image handling</li>
</ul>

<div class="source">
<pre>        &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt; 

        &lt;!DOCTYPE web-app
           PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;
           &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;

        &lt;web-app&gt;

        &lt;display-name&gt;Jawr enabled application&lt;/display-name&gt;

        &lt;description&gt;

        &lt;/description&gt;
        &lt;servlet&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
        &lt;servlet&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;type&lt;/param-name&gt;
                        &lt;param-value&gt;binary&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;!-- The Jawr Image servlet must start before the Jawr CSS Servlet --&gt;
                &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
        &lt;servlet&gt;
                &lt;servlet-name&gt;CssServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.properties&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;type&lt;/param-name&gt;
                        &lt;param-value&gt;css&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;

        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt;
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;CssServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt;      
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.png&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 
        &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;JawrBinaryServlet&lt;/servlet-name&gt;
                &lt;url-pattern&gt;*.gif&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt; 

&lt;/web-app&gt;
</pre></div></div>
<div class="section">
<h3><a href="">Using JSON configuration source</a><a name="Using_JSON_configuration_source"></a></h3>
<p>By default, Jawr use properties file as configuration file. Jawr allows users to use JSON configuration source by using the <b>configPropertiesSourceClass</b> init param. You can define the location of the configuration file by using the parameter <i>configLocation</i>. This implementation requires the <i>Jackson</i> JSON library. So you&#x2019;ll have to add it to your classpath. For maven users, you&#x2019;ll have to update your pom file to add the <i>jackson</i> dependencies.</p>
<p>Here is a sample of <i>jackson</i> dependency declaration in a pom.xml file :</p>

<div class="source">
<pre>        ...
        &lt;dependency&gt;
                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;
                &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;
                &lt;version&gt;2.4.2&lt;/version&gt;
        &lt;/dependency&gt;
        ...
</pre></div>
<p>Here is an example of configuration :</p>

<div class="source">
<pre>        &lt;servlet&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configPropertiesSourceClass&lt;/param-name&gt;
                        &lt;param-value&gt;net.jawr.web.resource.bundle.factory.util.JsonPropertiesSource&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configLocation&lt;/param-name&gt;
                        &lt;param-value&gt;/jawr.json&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
</pre></div></div>
<div class="section">
<h3>Defining a custom properties source<a name="Defining_a_custom_properties_source"></a></h3>
<p>You can customize the way properties are loaded into Jawr, be it by reading data from a source other than a .properties file (like, say, a database), or simply by manually overriding some of the values from the properties file. To do that you must create an implementation of the interface <i>net.jawr.web.resource.bundle.factory.util.ConfigPropertiesSource</i> and then you must declare it when defining the Jawr servlet, by setting the <b>configPropertiesSourceClass</b> init param:</p>

<div class="source">
<pre>        &lt;servlet&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configPropertiesSourceClass&lt;/param-name&gt;
                        &lt;param-value&gt;com.mycompany.mypackage.MyConfigPropertiesSourceImplementation&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
</pre></div>
<p>The ConfigPropertiesSource interface declares two methods:</p>

<div class="source">
<pre>        /**
         * Read/modify configuration from a source (such as a .properties file) and return it. 
         * @return
         */
        public abstract Properties getConfigProperties();

        /**
         * Determine if configuration is changed to reconfigure Jawr during development 
         * without having to restart the server. 
         * @return
         */
        public abstract boolean configChanged();
</pre></div>
<p>The configChanged method will be called only if you set the jawr.config.reload.interval parameter in the properties file to any valid value. This would have Jawr check every n seconds whether configuration has changed since the last time it was loaded. Therefore, if configChanged returns true, Jawr will redeploy itself.</p>
<p>If you only intend to override some values of the properties file for some reason (like mapping the debug mode to some global property from your own application), the best way to go is to subclass <i>net.jawr.web.resource.bundle.factory.util.PropsFilePropertiesSource</i>. Check the javadoc for details.</p></div>
<div class="section">
<h3>Defining a custom property resolver<a name="Defining_a_custom_property_resolver"></a></h3>
<p>By default no ConfigPropertyResolver is used in Jawr, but you can customize the way properties are resolved in Jawr.<br />The property resolver is used to resolve values from placeholder, which are like &#x201c;\${myValueToReplace}&#x201d;. To do that you must create an implementation of the interface <i>net.jawr.web.config.ConfigPropertyResolver</i> and then you must declare it when defining the Jawr servlet, by setting the <b>configPropertyResolverClass</b> init param:</p>

<div class="source">
<pre>        &lt;servlet&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configPropertyResolverClass&lt;/param-name&gt;
                        &lt;param-value&gt;com.mycompany.mypackage.MyConfigPropertyResolverImplementation&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
</pre></div>
<p>The ConfigPropertyResolver interface declares one method:</p>

<div class="source">
<pre>        /**
         * Resolve the property. If the property has not been resolved &lt;b&gt;null&lt;/b&gt; should be return
         * @param property the property to resolve
         * @return the property value or null if not resolved
         */
        public String resolve(String property);
</pre></div>
<p>Jawr provides a built-in System property resolver which will find the value of the properties in the System Property.<br />To use this property resolver, you need to configure your servlet as below :</p>

<div class="source">
<pre>        &lt;servlet&gt;
                &lt;servlet-name&gt;JavascriptServlet&lt;/servlet-name&gt;
                &lt;servlet-class&gt;net.jawr.web.servlet.JawrServlet&lt;/servlet-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;configPropertyResolverClass&lt;/param-name&gt;
                        &lt;param-value&gt;net.jawr.web.config.ConfigSystemPropertyResolver&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2017.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
